#!/usr/bin/python3
"""

إنتاج نص التصنيفات

"""
import sys

from ..temp import main_make_temp
from ..wd_bots.wd_api_bot import Get_P373_API
from ..wiki_api import himoBOT2
from ..helps import logger


def Make_temp(enca, title):
    ff, title = main_make_temp(enca, title)

    return ff


def getP373(entitle, Qid):
    template = ""
    P373 = Get_P373_API(q=Qid, titles=entitle, sites="enwiki")

    if P373:
        template = "{{تصنيف كومنز|%s}}" % P373

    return template


find_lis = {
    # "كرة السلة" : 'كرة السلة',
    # "كرة القاعدة" : 'كرة القاعدة',
    "الألعاب الأولمبية": "ألعاب أولمبية",
    "الألعاب الآسيوية": "آسيا",
    "كوفيد-19": "كوفيد-19",
    " فيروس كورونا": "كوفيد-19",
    " الدين": "الأديان",
    "مبان ومنشآت": "عمارة",
    "النقل": "نقل",
    "الكريكت": "كريكت",
    "محطات تلفزيونية": "تلفاز",
    "أفلام": "سينما",
    # "أفلام" : 'سينما',
    # "الإمارات العربية المتحدة" : "الإمارات العربية المتحدة",
    # "المملكة المتحدة" : "المملكة المتحدة",
    # "الولايات المتحدة" : "الولايات المتحدة",
    # "الأمم المتحدة" : "الأمم المتحدة",
}
LLo2 = {
    "كوفيد-19",
    "عقد 2010",
    "عقد 2020",
    "آسيا",
    "أبل",
    "أخلاقيات",
    "أدب",
    "أروبا",
    "أعلام",
    "ألعاب",
    "ألوان",
    "أمستردام",
    "أندرويد",
    "أندورا",
    "أنغولا",
    "أنقرة",
    "أنهار",
    "أوتاوا",
    "أوروبا",
    "إباحية",
    "إحصاء",
    "إرهاب",
    "إسرائيل",
    "إسطنبول",
    "إعلام",
    "إلكترونيات",
    "إنترنت",
    "إيران",
    "إيطاليا",
    "اسكتلندا",
    "اشتراكية",
    "الأديان",
    "الأرجنتين",
    "الأردن",
    "الأوروغواي",
    "الإسلام",
    "الإكوادور",
    "الإنجيل",
    "الاقتصاد",
    "البحرين",
    "البرازيل",
    "البرتغال",
    "البهائية",
    "البهاماس",
    "البوذية",
    "التاريخ",
    "التشيك",
    "الجزائر",
    "الحرب",
    "الدنمارك",
    "الزرادشتية",
    "السعودية",
    "السلفادور",
    "السنغال",
    "السودان",
    "السويد",
    "السياسة",
    "السيخية",
    "الشيشان",
    "الصومال",
    "الصين",
    "العراق",
    "الغابون",
    "الفاتيكان",
    "الفضاء",
    "الفلبين",
    "القانون",
    "القاهرة",
    "القدس",
    "القرآن",
    "القمر",
    "الكاريبي",
    "الكاميرون",
    "الكونغو",
    "الكويت",
    "اللغة",
    "اليهودية",
    "اليونان",
    "باراغواي",
    "باريس",
    "بافاريا",
    "باكستان",
    "براكين",
    "برشلونة",
    "برلين",
    "برمجيات",
    "بروكسل",
    "بكين",
    "بلجيكا",
    "بلغاريا",
    "بلغراد",
    "بليز",
    "بنغلاديش",
    "بنما",
    "بنين",
    "بوتان",
    "بوتسوانا",
    "بورتوريكو",
    "بوروندي",
    "بولندا",
    "بوليفيا",
    "بوليوود",
    "بيرو",
    "تايلاند",
    "تايوان",
    "تركيا",
    "تشاد",
    "تشريح",
    "تشيلي",
    "تعمية",
    "تفكير",
    "تقنية",
    "تلفاز",
    "تمريض",
    "تنزانيا",
    "تورونتو",
    "توغو",
    "توفالو",
    "تونس",
    "ثدييات",
    "ثقافة",
    "جامايكا",
    "جامعة",
    "جاينية",
    "جبال",
    "جرينلاند",
    "جسور",
    "جغرافيا",
    "جوجل",
    "جورجيا",
    "جيبوتي",
    "حسابيات",
    "حشرات",
    "حيتانيات",
    "خيول",
    "دبابات",
    "دبي",
    "دسوق",
    "ديزني",
    "ديناصورات",
    "رأسمالية",
    "رئيسيات",
    "راديو",
    "رقص",
    "رواندا",
    "روايات",
    "روسيا",
    "روما",
    "رياضة",
    "رياضيات",
    "زراعة",
    "سباحة",
    "سمك",
    "سيراليون",
    "شعر",
    "شنغهاي",
    "شيعة",
    "شيكاغو",
    "شيوعية",
    "صحة",
    "صربيا",
    "صيدلة",
    "طاقة",
    "طب",
    "طقس",
    "طوكيو",
    "طيران",
    "طيور",
    "علوم",
    "عمارة",
    "غامبيا",
    "غانا",
    "غرينادا",
    "غواتيمالا",
    "غوص",
    "غولف",
    "غيانا",
    "غينيا",
    "فرنسا",
    "فطريات",
    "فلسطين",
    "فلسفة",
    "فلكلور",
    "فنزويلا",
    "فنلندا",
    "فنون",
    "فيتنام",
    "فيجي",
    "فيزياء",
    "فيينا",
    "قبرص",
    "قروش",
    "قطارات",
    "قهوة",
    "كاراتيه",
    "كتابة",
    "كتب",
    "كرتون",
    "كردستان",
    "كرواتيا",
    "كريكت",
    "كلبيات",
    "كمبوديا",
    "كندا",
    "كوارث",
    "كوبا",
    "كوريا",
    "كوستاريكا",
    "كوسوفو",
    "كولومبيا",
    "كوميديا",
    "كيبيك",
    "كيريباتي",
    "كينيا",
    "لاتفيا",
    "لاسلطوية",
    "لاوس",
    "لبنان",
    "لسانيات",
    "لندن",
    "لوكسمبورغ",
    "ليبرالية",
    "ليبيا",
    "ليبيريا",
    "ليتوانيا",
    "ليختنشتاين",
    "لينكس",
    "ماء",
    "ماكاو",
    "مالطا",
    "مالي",
    "ماليزيا",
    "مايكروسوفت",
    "متاحف",
    "مجتمع",
    "محمد",
    "مدغشقر",
    "مسرح",
    "مشروبات",
    "مصر",
    "مفصليات",
    "مقدونيا",
    "ملاحة",
    "ملاكمة",
    "ملاوي",
    "ملكية",
    "مناسبات",
    "منغوليا",
    "موت",
    "موريتانيا",
    "موريشيوس",
    "موزمبيق",
    "موسكو",
    "موسيقى",
    "موضة",
    "مولدوفا",
    "موناكو",
    "مونتريال",
    "ميانمار",
    "ميونخ",
    "ناميبيا",
    "نجوم",
    "نسوية",
    "نقل",
    "نيبال",
    "نيجيريا",
    "نيكاراغوا",
    "نيوزيلندا",
    "نيويورك",
    "هامبورغ",
    "هايتي",
    "هسن",
    "هولندا",
    "ويلز",
}
LLo = {
    "فلسطين",
    "قيرغيزستان",
    "كازاخستان",
    "كاليفورنيا",
    "رومانيا",
    "زامبيا",
    "زيمبابوي",
    "ساكسونيا",
    "ستوكهولم",
    "سريلانكا",
    "سلوفاكيا",
    "سلوفينيا",
    "سنغافورة",
    "الكيمياء",
    "المجر",
    "المريخ",
    "المغرب",
    "اليمن",
    "سنوريات",
    "سنوكر",
    "سوريا",
    "سورينام",
    "سويسرا",
    "سيارات",
    "سينما",
    "شركات",
    "شطرنج",
    "إنجلترا",
    "المسيحية",
    "صوماليلاند",
    "طاجيكستان",
    "تركمانستان",
    "المكسيك",
    "النرويج",
    "النمسا",
    "النيجر",
    "الهند",
    "الهندوسية",
    "اليابان",
    "إندونيسيا",
    "إريتريا",
    "إسبانيا",
    "إستونيا",
    "إثيوبيا",
    "أوغندا",
    "أوقيانوسيا",
    "أوزبكستان",
    "آيسلندا",
    "أبخازيا",
    "أذربيجان",
    "أرمينيا",
    "أستراليا",
    "أفريقيا",
    "أفغانستان",
    "ألبانيا",
    "ألمانيا",
    "أوكرانيا",
    "أيرلندا",
    # "أحداث جارية",
    "أدب أطفال",
    "أدب فرنسي",
    "أسماك الزينة",
    "ألعاب أولمبية",
    "ألعاب القوى",
    "ألعاب تقمص أدوار",
    "ألعاب فيديو",
    "أمريكا اللاتينية",
    "أنمي ومانغا",
    "أيرلندا الشمالية",
    "إيطاليا الفاشية",
    "اتصال عن بعد",
    "الأعاصير المدارية",
    "الألعاب المائية",
    "الأمم المتحدة",
    "الإمارات العربية المتحدة",
    "الإمبراطورية الألمانية",
    "الإمبراطورية البريطانية",
    "الإمبراطورية الروسية",
    "الإمبراطورية الرومانية المقدسة",
    "الإمبراطورية النمساوية المجرية",
    "الاتحاد الأوروبي",
    "الاتحاد السوفيتي",
    "البوسنة والهرسك",
    "الجبل الأسود",
    "الحرب الأهلية السورية",
    "الحرب الباردة",
    "الحرب العالمية الأولى",
    "الحرب العالمية الثانية",
    "الحلف الأطلسي",
    "الدار البيضاء",
    "الدولة العثمانية",
    "الدولة الفاطمية",
    "الرأس الأخضر",
    "السينما الأمريكية",
    "الشرق الأوسط",
    "الصحراء الغربية",
    "القارة القطبية الجنوبية",
    "القرن 20",
    "القوات المسلحة الألمانية",
    "الكنيسة الرومانية الكاثوليكية",
    "الكيمياء الحيوية",
    "اللغة العربية",
    "اللغة الفرنسية والفرنكوفونية",
    "المجموعة الشمسية",
    "المملكة المتحدة",
    "الوطن العربي",
    "الولايات المتحدة",
    "اليونان القديم",
    "بابوا غينيا الجديدة",
    "برمجة الحاسوب",
    "برمجيات حرة",
    "بوركينا فاسو",
    "تاريخ الشرق الأوسط",
    "تاريخ العلوم",
    "تربية وتعليم",
    "ترينيداد وتوباغو",
    "تصوير ضوئي",
    "تقنية المعلومات",
    "تقنية النانو",
    "تيمور الشرقية",
    "جبل طارق",
    "جزر المالديف",
    "جزر فارو",
    "جزيرة مان",
    "جمهورية أفريقيا الوسطى",
    "جمهورية الدومينيكان",
    "جمهورية الكونغو الديمقراطية",
    "جنوب أفريقيا",
    "جنوب السودان",
    "حرية التعبير",
    "حضارات قديمة",
    "حقوق الإنسان",
    "خيال علمي",
    "دول كتالونية",
    "رحلات فضائية",
    "رسوم متحركة",
    "روسيا البيضاء",
    "روما القديمة",
    "ريو دي جانيرو",
    "زواحف وبرمائيات",
    "ساحل العاج",
    "سان فرانسيسكو",
    "ساو تومي وبرينسيب",
    "سباق الدراجات الهوائية",
    "سباق السيارات",
    "سلطنة عمان",
    "شمال الراين-وستفاليا",
    "طاقة متجددة",
    "طاقة نووية",
    "طب أسنان",
    "عالم بحري",
    "عصور حديثة",
    "عصور وسطى",
    "عقد 1910",
    "عقد 1920",
    "عقد 1930",
    "عقد 1940",
    "عقد 1950",
    "عقد 1960",
    "عقد 1970",
    "عقد 1980",
    "عقد 1990",
    "عقد 2000",
    "عقد 2010",
    "علاقات دولية",
    "علم الآثار",
    "علم الأحجار الكريمة والمجوهرات",
    "علم الأحياء التطوري",
    "علم الأحياء القديمة",
    "علم الأحياء",
    "علم الأساطير",
    "علم الأنظمة",
    "علم الإنسان",
    "علم الاجتماع",
    "علم البيئة",
    "علم الجنس",
    "علم الحاسوب",
    "علم الحيوان",
    "علم الشعارات",
    "علم العملات",
    "علم الفلك",
    "علم الفيروسات",
    "علم المكتبات والمعلومات",
    "علم النبات",
    "علم النفس",
    "علم الوراثة",
    "علم طبقات الأرض",
    "علم طبيعة الأرض",
    "علوم الأرض",
    "علوم سياسية",
    "علوم عصبية",
    "غويانا الفرنسية",
    "غينيا بيساو",
    "فنون قتالية",
    "فنون مرئية",
    "فورمولا 1",
    "قصص مصورة",
    # "كأس العالم",
    "كرة السلة",
    "كرة الطائرة",
    "كرة القاعدة",
    "كرة القدم الألمانية",
    "كرة القدم في أفريقيا",
    "كرة القدم",
    "كرة المضرب",
    "كرة اليد",
    "كرتون نتورك",
    "كنيسة رومانية كاثوليكية",
    "كوريا الجنوبية",
    "كوريا الشمالية",
    "لغات مصطنعة",
    "لوس أنجلوس",
    "مثلية جنسية",
    "مدينة الجزائر",
    "مصر القديمة",
    "مطاعم وطعام",
    "هاري بوتر",
    "هندسة تطبيقية",
    "هوكي الجليد",
    "هونغ كونغ",
    "واشنطن العاصمة",
    "ولايات ميكرونيسيا المتحدة",
}

from .utils import portal_en_to_ar_lower


def Make_Portal(title, enca, return_list=False):
    lilo = []
    en_links = himoBOT2.GetPagelinks(enca, sitecode="en")

    for x in en_links:
        if en_links[x].get("ns") == 100 or en_links[x].get("ns") == "100":
            cc = x.replace("Portal:", "")
            if cc.lower() in portal_en_to_ar_lower:
                lilo.append(portal_en_to_ar_lower[cc.lower()])

    # lilo = [ portal_en_to_ar_lower[x.lower()] for x in en_params if x.lower() in portal_en_to_ar_lower ]

    # lilo = []
    for cd in find_lis:
        portal = find_lis[cd]
        if title.find(cd) != -1 and portal not in lilo:
            lilo.append(portal)

    for xc in LLo:
        if xc not in lilo:
            if title.find(" %s " % xc) != -1 or title.startswith("تصنيف:%s " % xc) or title.endswith(" %s" % xc):
                lilo.append(xc)

    litp = ""

    if len(lilo) != 0:
        litp = "|".join(lilo)

        litp = "{{بوابة|%s}}\n" % litp

    if return_list:
        return litp, lilo

    return litp


def make_text(enca, title, Qid):
    ff = Make_temp(enca, title)
    # ---#تصنيف:اكتشافات فلكيون
    text = ""
    text += Make_Portal(title, enca)
    text += "{{نسخ:#لوموجود:{{نسخ:اسم_الصفحة}}|{{مقالة تصنيف}}|}}\n"
    text += getP373(enca, Qid)

    if ff:
        text += "\n%s" % ff

    return text
